window.__require=function e(t,n,i){function o(s,c){if(!n[s]){if(!t[s]){var r=s.split("/");if(r=r[r.length-1],!t[r]){var d="function"==typeof __require&&__require;if(!c&&d)return d(r,!0);if(a)return a(r,!0);throw new Error("Cannot find module '"+s+"'")}}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){return o(t[s][1][e]||e)},l,l.exports,e,t,n,i)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<i.length;s++)o(i[s]);return o}({ButtonAddon:[function(e,t,n){"use strict";cc._RF.push(t,"214adtHitZEBICJx/nf7CQu","ButtonAddon"),cc.Class({extends:cc.Component,properties:{soundPress:{default:null,type:cc.AudioClip}},onLoad:function(){},onDestroy:function(){cc.audioEngine.stopEffect(this.current)},addPressSound:function(){window._tempData.sound&&this.node.on("click",this.playPressSound,this)},playPressSound:function(){cc.audioEngine.play(this.soundPress,!1,1)}}),cc._RF.pop()},{}],ButtonSound:[function(e,t,n){"use strict";cc._RF.push(t,"e0fbb2lCIlNFq1HQKTdXdHg","ButtonSound"),cc.Class({extends:cc.Component,properties:{btnSprite:{default:[],type:[cc.SpriteFrame]}},onLoad:function(){window._tempData.sound?this.getComponent(cc.Sprite).spriteFrame=this.btnSprite[0]:this.getComponent(cc.Sprite).spriteFrame=this.btnSprite[1]},changeIcon:function(){window._tempData.sound?this.getComponent(cc.Sprite).spriteFrame=this.btnSprite[0]:this.getComponent(cc.Sprite).spriteFrame=this.btnSprite[1]}}),cc._RF.pop()},{}],Button:[function(e,t,n){"use strict";cc._RF.push(t,"94da4ftddNFnZ6GS0yWtwua","Button"),cc.Class({extends:cc.Component,properties:{},start:function(){},test:function(){cc.log("Click")}}),cc._RF.pop()},{}],Card:[function(e,t,n){"use strict";cc._RF.push(t,"9548fx+brZLWLhgfuSIc9nW","Card"),cc.Class({extends:cc.Component,properties:{frontCardImage:{default:[],type:[cc.SpriteFrame]},frontCard:{default:null,type:cc.Sprite},backCard:{default:null,type:cc.Sprite},flipSound:{default:null,type:cc.AudioClip},collectSound:{default:null,type:cc.AudioClip},lockRotate:!1,data:0,position:null,sound:!0,status:!0},onLoad:function(){this.frontCard.node.scaleX=0,this.frontCard.spriteFrame=this.frontCardImage[this.data]},flipCard:function(){var e={};e.data=this.data,e.position={x:this.position.x,y:this.position.y},this.status&&this.main.checkCard(e)},upCardAction:function(){var e=this;this.backCard.node.runAction(cc.scaleTo(.15,0,1)),setTimeout(function(){e.frontCard.node.runAction(cc.scaleTo(.15,1,1))},150),window._tempData.sound&&this.sound&&cc.audioEngine.play(this.flipSound,!1,1)},downCardAction:function(){var e=this;this.frontCard.node.runAction(cc.scaleTo(.1,0,1)),setTimeout(function(){e.backCard.node.runAction(cc.scaleTo(.1,1,1)),e.main.lockRotate=!1},100)},deleteCard:function(){this.node.getComponent(cc.Animation).play(),this.node.runAction(cc.scaleTo(.2,1.1)),this.node.runAction(cc.fadeOut(.3)),this.sound=!1,this.status=!1,window._tempData.sound&&cc.audioEngine.play(this.collectSound,!1,.2)}}),cc._RF.pop()},{}],GameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"8e6c6cNC/hD7YCo4rwYuFlu","GameConfig"),window.GameConfig={levelMax:18,level:[{index:1,size:{x:2,y:2},diff:2,point:10,time:10},{index:2,size:{x:4,y:2},diff:3,point:15,time:30},{index:3,size:{x:4,y:2},diff:4,point:20,time:40},{index:4,size:{x:8,y:3},diff:5,point:20,time:50},{index:5,size:{x:8,y:3},diff:6,point:25,time:60},{index:6,size:{x:9,y:4},diff:7,point:25,time:70},{index:7,size:{x:9,y:4},diff:8,point:25,time:70},{index:8,size:{x:9,y:4},diff:9,point:25,time:70},{index:10,size:{x:9,y:4},diff:10,point:30,time:80},{index:11,size:{x:9,y:4},diff:11,point:35,time:90},{index:12,size:{x:9,y:4},diff:12,point:40,time:90},{index:13,size:{x:9,y:4},diff:13,point:40,time:90},{index:14,size:{x:9,y:4},diff:14,point:40,time:90},{index:15,size:{x:9,y:4},diff:15,point:40,time:90},{index:16,size:{x:9,y:4},diff:16,point:45,time:90},{index:17,size:{x:9,y:4},diff:17,point:45,time:90},{index:18,size:{x:9,y:4},diff:18,point:45,time:90}]},window.UserDataInit={rankBoard:[{name:"Latasha Rosario",score:1e3},{name:"Turner Kane",score:900},{name:"Rae Kane",score:800},{name:"Ninja Bot",score:700},{name:"Ninja Bot",score:600},{name:"Ninja Bot",score:500},{name:"Ninja Bot",score:400},{name:"Ninja Bot",score:300},{name:"Ninja Bot",score:200},{name:"Ninja Bot",score:100}]},window._tempData||(window._tempData={level:0,score:0,playerName:"Ninja",sound:!0}),cc._RF.pop()},{}],GameController:[function(e,t,n){"use strict";cc._RF.push(t,"bd083kld+5OEYzBEWSVcA/g","GameController"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"9b9f34ZxqdBGKC3OJIiYcgv","Game");var i="userNinjaCard";cc.Class({extends:cc.Component,properties:{levelLabel:{default:null,type:cc.Label},scoreLabel:{default:null,type:cc.Label},scoreEndLabel:{default:null,type:cc.Label},main:{default:null,type:cc.Component},winScreen:{default:null,type:cc.Node},loseScreen:{default:null,type:cc.Node},newHighscoreScreen:{default:null,type:cc.Node},timeLabel:{default:null,type:cc.Label},timeProgress:{default:null,type:cc.Node},highscoreEditbox:{default:null,type:cc.EditBox}},onLoad:function(){this.setState(),this.loadUserData(),this.loadLevelConfig(),this.mainLoad()},setState:function(){this.score=0,this.cardCollect=0,this.level=0,this.winStatus=!1,this.main.getComponent("Main").game=this,this.timeLabel.getComponent("TimeLabel").game=this,this.timeProgress.getComponent("ProgressBar").game=this,this.winScreen.getComponent("WinScreen").game=this,this.loseScreen.getComponent("LoseScreen").game=this,this.winScreen.active=!1,this.loseScreen.active=!1,this.newHighscoreScreen.active=!1},loadUserData:function(){var e=cc.sys.localStorage.getItem(i);!e&&this.setDataInit(),(e=JSON.parse(cc.sys.localStorage.getItem(i))).playerLevel>GameConfig.levelMax&&(e.playerLevel=0),window.UserData=e,this.level=window._tempData.level,this.score=window._tempData.score},loadLevelConfig:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t=this.level,this.size={x:GameConfig.level[t].size.x,y:GameConfig.level[t].size.y,cardTotal:function(){return e.size.x*e.size.y}},this.diff=GameConfig.level[t].diff,this.point=GameConfig.level[t].point,this.time=GameConfig.level[t].time},mainLoad:function(){var e=this.size,t=this.diff,n=this.main.getComponent("Main"),i=this.timeLabel.getComponent("TimeLabel"),o=this.timeProgress.getComponent("ProgressBar");this.scoreDisplay(),this.levelDisplay(),this.level<1?(this.main.node.width=250,this.main.node.height=300):this.level<3?(this.main.node.width=450,this.main.node.height=300):this.level<5?(this.main.node.width=900,this.main.node.height=450):(this.main.node.width=980,this.main.node.height=520),n.spawnCards(e.x,e.y,t),i.startCount(this.time),o.startCount(this.time)},gainScore:function(){this.score+=this.point,this.scoreDisplay(),this.cardCollect+=2,this.cardCollect>=this.size.cardTotal()&&this.winAction()},scoreDisplay:function(){var e=this;this.scoreLabel.string=this.score,this.scoreLabel.node.runAction(cc.scaleTo(.2,1.2).easing(cc.easeElasticOut(3))),setTimeout(function(){e.scoreLabel.node.runAction(cc.scaleTo(.2,1))},200)},levelDisplay:function(){this.levelLabel.string="Level "+(window._tempData.level+1)},loseAction:function(){this.loseScreen.active=!0;var e=this.getPlayerRank();e&&(this.userRank=e,this.scoreEndLabel.string=this.score,this.newHighscoreScreen.active=!0)},updateHighscore:function(){if(this.updateHighscore=!0,this.updateHighscore){var e=window.UserData.rankBoard,t=this.userRank,n=this.score,i=this.highscoreEditbox.string;e.splice(t,0,{name:i,score:n}),e.pop(),this.saveGame(),this.reloadIntro(),this.updateHighscore=!1}},winAction:function(){var e=this;this.winStatus=!0,window._tempData.score=this.score,this.saveGame(),setTimeout(function(){e.winScreen.getComponent("WinScreen").playerScore.string=e.score,e.winScreen.active=!0},900)},getPlayerRank:function(){for(var e=window.UserData.rankBoard,t=null,n=9;this.score>e[n].score;)t=n,n--;return t||!1},getHighscore:function(){cc.director.loadScene("03.Highscore")},reloadGame:function(){window._tempData={level:0,score:0,playerName:"Ninja",sound:!0},cc.director.loadScene("02.Game")},reloadIntro:function(){window._tempData={level:0,score:0,playerName:"Ninja"},cc.director.loadScene("01.Intro")},setDataInit:function(){var e=window.UserDataInit;cc.sys.localStorage.setItem(i,JSON.stringify(e))},saveGame:function(){var e=window.UserData;cc.sys.localStorage.setItem(i,JSON.stringify(e))},changeSound:function(){window._tempData.sound=!window._tempData.sound}}),cc._RF.pop()},{}],Highscore:[function(e,t,n){"use strict";cc._RF.push(t,"3cc6fcdFY1L8rgXMgmxf+J+","Highscore");var i="userNinjaCard";cc.Class({extends:cc.Component,properties:{playerName:{default:null,type:cc.Label},playerScore:{default:null,type:cc.Label}},onLoad:function(){var e=cc.sys.localStorage.getItem(i);!e&&this.setDataInit();var t,n;t=(e=JSON.parse(cc.sys.localStorage.getItem(i))).rankBoard.reduce(function(e,t,n){return""+e+(n+1)+". "+t.name+"\n"},""),this.playerName.string=t,n=e.rankBoard.reduce(function(e,t,n){return""+e+t.score+"\n"},""),this.playerScore.string=n},playAgain:function(){cc.director.loadScene("02.Game")},setDataInit:function(){var e=window.UserDataInit;cc.sys.localStorage.setItem(i,JSON.stringify(e))},reloadIntro:function(){window._tempData={level:0,score:0,playerName:"Ninja"},cc.director.loadScene("01.Intro")}}),cc._RF.pop()},{}],InputName:[function(e,t,n){"use strict";cc._RF.push(t,"ef52eoHklRKaa7AF+tJRfg9","InputName"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=cc.Class({extends:cc.Component,properties:{inputBox:{default:null,type:cc.Node}},onLoad:function(){cc.log(this.inputBox.getComponent(cc.EditBox))}}),t.exports=n.default,cc._RF.pop()},{}],IntroCanvas:[function(e,t,n){"use strict";cc._RF.push(t,"59e20Oa5RtFSL30F0Cf/SIu","IntroCanvas"),cc.Class({extends:cc.Component,properties:{startButton:{default:null,type:cc.Button}},onLoad:function(){},getHighscore:function(){cc.director.loadScene("03.Highscore")},playGame:function(){cc.director.loadScene("02.Game")},changeSound:function(){window._tempData.sound=!window._tempData.sound}}),cc._RF.pop()},{}],LoseScreen:[function(e,t,n){"use strict";cc._RF.push(t,"9f1620D9hNA9Y3CrLvY2PJa","LoseScreen"),cc.Class({extends:cc.Component,properties:{loseSound:{default:null,type:cc.AudioClip}},onEnable:function(){window._tempData.sound&&cc.audioEngine.play(this.loseSound,!1,1)},playAgain:function(){window._tempData={level:0,score:0,playerName:"Ninja"},this.game.saveGame(),this.game.reloadGame()}}),cc._RF.pop()},{}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"a5baf6O5O1Bi52IXkWX7Wco","Main"),cc.Class({extends:cc.Component,properties:{cardPrefab:{default:null,type:cc.Prefab},lockCard:!1},onLoad:function(){this.firstCard={data:null,position:{x:null,y:null}},this.secondCard={data:null,position:{x:null,y:null}}},spawnCards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18;this.cards=new Array(e);var i=this.randomCards(e,t,n);this.cardPrefab.data.getComponent("Card").frontCardImage.sort(function(){return.5-Math.random()});for(var o=0;o<e;o++)this.cards[o]=new Array(t);for(var a=0;a<t;a++)for(var s=0;s<e;s++)this.cards[a][s]=cc.instantiate(this.cardPrefab),this.cards[a][s].getComponent("Card").data=i[e*a+s],this.cards[a][s].getComponent("Card").position={x:s,y:a},this.node.addChild(this.cards[a][s]),this.cards[a][s].getComponent("Card").main=this},checkCard:function(e){var t=this,n=this.firstCard,i=e.position,o=i.x,a=i.y,s=e.data;if(null==n.position.x&&null==n.position.y)n.position={x:o,y:a},n.data=s,this.cards[a][o].getComponent("Card").upCardAction();else{if(n.position.x==o&&n.position.y==a)return;this.lockCard||(this.lockCard=!this.lockCard,this.cards[a][o].getComponent("Card").upCardAction(),s===n.data?(this.game.gainScore(),this.destroyCard(o,a),this.destroyCard(n.position.x,n.position.y),n.data=null,n.position.x=null,n.position.y=null,this.lockCard=!this.lockCard):(this.downCardAction(o,a),this.downCardAction(n.position.x,n.position.y),setTimeout(function(){n.data=null,n.position.x=null,n.position.y=null,t.lockCard=!t.lockCard},500)))}},destroyCard:function(e,t){var n=this;setTimeout(function(){n.cards[t][e].getComponent("Card").deleteCard()},500)},downCardAction:function(e,t){var n=this;setTimeout(function(){n.cards[t][e].getComponent("Card").downCardAction()},500)},randomCards:function(e,t,n){for(var i=[],o=n,a=0;a<e*t/2;a++){var s=Math.floor(o*Math.random());i.push(s)}return i.push.apply(i,i),i.sort(function(){return.5-Math.random()}),i}}),cc._RF.pop()},{}],ProgressBar:[function(e,t,n){"use strict";cc._RF.push(t,"6527cT5pi9Dx4Zh/kdx6ciu","ProgressBar"),cc.Class({extends:cc.Component,properties:{},startCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;this.totalTime=e,this.time=e},update:function(e){this.time&&(this.time-=e,this.getComponent(cc.ProgressBar).progress=this.time/this.totalTime)}}),cc._RF.pop()},{}],TimeLabel:[function(e,t,n){"use strict";cc._RF.push(t,"388eav57KhIQ71DPP4h97ka","TimeLabel"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},startCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;this.time=e},converTime:function(e){e=Math.ceil(e);var t=Math.floor(e/60),n=e%60;return n<10&&(n="0"+n),t+":"+n},update:function(e){this.time&&(this.time-=e,this.time>=0?this.getComponent(cc.Label).string=this.converTime(this.time):(this.getComponent(cc.Label).string=this.converTime(0),!this.game.winStatus&&this.game.loseAction()))}}),cc._RF.pop()},{}],WinScreen:[function(e,t,n){"use strict";cc._RF.push(t,"32ee19aLVNHfJrtd8yrU1y8","WinScreen"),cc.Class({extends:cc.Component,properties:{playerScore:{default:null,type:cc.Label},levelLabel:{default:null,type:cc.Label},winSound:{default:null,type:cc.AudioClip}},onLoad:function(){this.levelLabel.string="Level "+(window._tempData.level+1)},onEnable:function(){window._tempData.sound&&cc.audioEngine.play(this.winSound,!1,1)},nextLevel:function(){window._tempData.level+=1,this.game.saveGame(),cc.director.loadScene("02.Game")}}),cc._RF.pop()},{}]},{},["IntroCanvas","Button","Card","ProgressBar","TimeLabel","Game","InputName","LoseScreen","Main","WinScreen","ButtonAddon","ButtonSound","GameConfig","GameController","Highscore"]);